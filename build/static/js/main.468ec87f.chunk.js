(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(t,e,n){},40:function(t,e,n){},60:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),o=n(26),i=(n(40),n(31)),s=n(2),r=n(27),d=n(28),l=n(29),u=n(35),p=n(13),h=n.n(p),f=n(30),m=(n(60),n(1)),g=function(){return Object(m.jsxs)("div",{className:"sk-circle",children:[Object(m.jsx)("div",{className:"sk-circle1 sk-child"}),Object(m.jsx)("div",{className:"sk-circle2 sk-child"}),Object(m.jsx)("div",{className:"sk-circle3 sk-child"}),Object(m.jsx)("div",{className:"sk-circle4 sk-child"}),Object(m.jsx)("div",{className:"sk-circle5 sk-child"}),Object(m.jsx)("div",{className:"sk-circle6 sk-child"}),Object(m.jsx)("div",{className:"sk-circle7 sk-child"}),Object(m.jsx)("div",{className:"sk-circle8 sk-child"}),Object(m.jsx)("div",{className:"sk-circle9 sk-child"}),Object(m.jsx)("div",{className:"sk-circle10 sk-child"}),Object(m.jsx)("div",{className:"sk-circle11 sk-child"}),Object(m.jsx)("div",{className:"sk-circle12 sk-child"})]})},b=(n(25),n(62),n(63),"https://datasheet-backendtjf.herokuapp.com"),v={product_id:0,product_name:"",product_type:"",product_sku:"",product_price:"",short_description:"",long_description:"",info_description:"",tech_specs:"",defaultImage:[],images:[],thumbnails:"",datasheet_benefits:"",datasheet_features:"",device_compatibility:"",package_content:"",material:"",warranty:"",certifications:"",rating:"",upc_code:"",unit_height:"",unit_width:"",unit_depth:"",unit_weight:"",height:{},width:{},depth:{},weight:{},contact_name:"The Joy Factory",contact_dep:"Sales Team",contact_phone:"949.382.1552",contact_email:"sales@thejoyfactory.com",footer_company:"The Joy Factory Inc.",footer_address:"16811 Hale Ave Bldg D, Irvine, CA 92606",footer_email:"sales@thejoyfactory.com",footer_phone:"949.216.8869",footer_fax:"949.216.8869",footer_site:"www.thejoyfactory.com"},y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var c;return Object(r.a)(this,n),(c=e.call(this,t)).downloadPdf=function(){c.setState({loading:!0}),h.a.post("".concat(b,"/download-pdf"),v).then((function(){return h.a.get("".concat(b,"/fetch-pdf"),{responseType:"blob"})})).then((function(t){console.log(t);var e=new Blob([t.data],{type:"application/pdf"});Object(f.saveAs)(e,"datasheet-".concat(v.product_sku,".pdf")),c.setState({loading:!1})}))},c.fetchData=function(){console.log("FetchData started...");var t=new URL(window.location).searchParams;function e(t){var e,n=t.split("&lt;!-- split --&gt;");v.short_description=(e=n[0],(new DOMParser).parseFromString(e,"text/html").body.textContent||""),v.long_description=n[1],v.info_description=n[2],v.tech_specs=function(t){var e=!1;try{new RegExp(/<a.*?>[^<]*<\/a>/),e=!0}catch(n){e=!1}return e?t.replace(/<br><br>/,"").replace(/<a.*?>[^<]*<\/a>/g,""):t}(n[3])}function n(t){var n=t.site.product;console.log("Assigning new values to state..."),v.product_id=n.entityId,v.product_name=n.name,n.customFields.edges.forEach((function(t){"product_type"===t.node.name&&(v.product_type=t.node.value)})),function(t){t.forEach((function(t){"upc_code"===t.node.name&&(v.upc_code=t.node.value)}))}(n.customFields.edges),function(t){t.forEach((function(t){"unit_height"===t.node.name?v.unit_height=t.node.value:"unit_width"===t.node.name?v.unit_width=t.node.value:"unit_depth"===t.node.name?v.unit_depth=t.node.value:"unit_weight"===t.node.name&&(v.unit_weight=t.node.value)}))}(n.customFields.edges),function(t){t.forEach((function(t){if("certifications"===t.node.name){var e=t.node.value;v.certifications=e.replace("C3D2,","C3D2   </br>")}}))}(n.customFields.edges),function(t){t.forEach((function(t){if("rating"===t.node.name){var e=t.node.value;v.rating=e.replace(","," | ")}}))}(n.customFields.edges),v.product_sku=n.sku,v.product_price=n.prices.price.value,e(n.description),v.defaultImage=n.defaultImage,v.images=n.images.edges,function(t){var e="";t.forEach((function(t,n){0!==n&&n<4&&(e+='<img class="thumbnail" src="'.concat(t.node.img320px,'">'))})),v.thumbnails=e}(n.images.edges),function(t){var e="";t.forEach((function(t,n){0!==n&&n<1&&(e+='<img class="thumbnail2" src="'.concat(t.node.img320px,'">'))})),v.productList=e}(n.images.edges),function(t){var e;t.forEach((function(t){"datasheet_benefits"===t.node.name&&(e=t.node.value)})),e.split(",").forEach((function(t,e){e%3===0&&(v.datasheet_benefits+="<tr>"),v.datasheet_benefits+="<td><li>".concat(t,"</li></td>"),2!==e&&5!==e||(v.datasheet_benefits+="</tr>")}))}(n.customFields.edges),function(t){var e,n,c;t.forEach((function(t){"datasheet_features"===t.node.name&&(e=t.node.value)})),t.forEach((function(t){"product_line"===t.node.name&&(n=t.node.value)})),t.forEach((function(t){"series"===t.node.name&&(c=t.node.value)}));var a=e.split(","),o=function(t,e,n){var c="https://shop.thejoyfactory.com/content/datasheet/icons/",a=[];return t.forEach((function(t,o){var i=t.replace(/ /g,"-"),s=(null!=n?"".concat(c).concat(e,"-").concat(n,"-").concat(i,".png"):"".concat(c).concat(e,"-").concat(i,".png")).toLowerCase();a.push(s)})),a}(a,n,c);a.forEach((function(t,e){e%3===0&&(v.datasheet_features+="<tr>"),v.datasheet_features+='<td><li class="feature-item"><img class="feature-icon" src="'.concat(o[e],'">').concat(t,"</li></td>"),2!==e&&5!==e||(v.datasheet_features+="</tr>")}))}(n.customFields.edges),v.warranty=n.warranty,v.depth=n.depth,v.height=n.height,v.weight=n.weight,v.width=n.width,function(t){t.forEach((function(t){"package_content"===t.node.name&&(v.package_content=t.node.value)}))}(n.customFields.edges),function(t){t.forEach((function(t){"material"===t.node.name&&(v.material=t.node.value)}))}(n.customFields.edges),function(t){t.forEach((function(t){if("device_compatibility"===t.node.name){var e=t.node.value;v.device_compatibility=e.replace(",",",")}}))}(n.customFields.edges)}var c={store_url:"https://shop.thejoyfactory.com/",images_url:"https://api.bigcommerce.com/stores/4ccc5gfp0c/v3/catalog/products/1970/images",id:null,token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiJ9.eyJjaWQiOjEsImNvcnMiOlsiaHR0cDovL2xvY2FsaG9zdDozMDAwIl0sImVhdCI6MjE0NjAwMjU3OCwiaWF0IjoxNjUxNTc1NDM1LCJpc3MiOiJCQyIsInNpZCI6MTAwMDY3NjI0MCwic3ViIjoicXNzNHVsazZnZTYyNTRybWl2YWU3amJodjZ4bDBqeCIsInN1Yl90eXBlIjoyLCJ0b2tlbl90eXBlIjoxfQ.2LxDqgnyUNqZEYxDaLz-uffUczn6N2Rz2w1mmIZl_SkV9Fc6Uhxcpiu74EzO2uQCLP1y-sf6j7h3RaRGNX0z7Q"};if(Object.keys(c).forEach((function(e){t.get(e)&&(c[e]=t.get(e))})),!c.store_url||!c.token)throw new Error("At least one of the required URL parameters (Store URL, Token) was not supplied or was invalid");(function(t){var e=new URL(t.store_url),n="".concat(e.origin,"/graphql"),c="\n        query SingleProduct {\n          site {\n             product(entityId: ".concat(t.id,") {\n              entityId\n              brand {\n                name\n              }\n              name\n              sku\n              path\n              description\n              height {\n                value\n                unit\n              }\n              width {\n                value\n                unit\n              }\n              weight {\n                value\n                unit\n              }\n              depth {\n                value\n                unit\n              }\n              warranty\n              customFields {\n                edges {\n                  node {\n                    name\n                    value\n                  }\n                }\n              }\n              defaultImage {\n                img320px: url(width: 320)\n                img640px: url(width: 640)\n                img960px: url(width: 960)\n              }\n              images {\n                edges {\n                  node {\n                    img320px:url(width:320)\n                  }\n                }\n              }\n              prices {\n                price {\n                  ...PriceFields\n                }\n              }\n            }\n          }\n        }\n          \n        fragment PriceFields on Money {\n          value\n          currencyCode\n        }");return fetch(n,{method:"POST",credentials:"include",mode:"no-cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)},Accept:"application/json",body:JSON.stringify({query:c})}).then((function(t){return t.json()})).then((function(t){return t.data}))})(c).then((function(t){!function(t){n(t),document.getElementById("product").innerHTML=function(t){var e='\n          <table class="footer text-left">\n            <tr>\n                <td style="width:73%;">\n                  <table>\n                  <tr>\n                    <td class="footer-company" style="width:73%;">The Joy Factory Inc.</td>\n                  </tr>\n                  <tr>\n                    <td class="footer-second-desc">'.concat(t.footer_address,' <span style="color: #d0103a;">|</span> ').concat(t.footer_email,' <span style="color: #d0103a;">|</span> T : ').concat(t.footer_phone,' <span style="color: #d0103a;">|</span> F : ').concat(t.footer_fax,' <span style="color: #d0103a;">|</span> ').concat(t.footer_site,'</td>\n                  </tr>\n                  </table>     \n                </td>\n                <td style="width:16.5%;">\n                  <table class="footer-icons" style="width:100%;">\n                    <tr>\n                      <td class="footer-image"><img src="https://shop.thejoyfactory.com/content/datasheet/protect.jpg" alt="The Joy Factory Protect Icon"></td>\n                      <td class="footer-image"><img src="https://shop.thejoyfactory.com/content/datasheet/secure.jpg" alt="The Joy Factory Secure Icon"></td>\n                      <td class="footer-image"><img src="https://shop.thejoyfactory.com/content/datasheet/position.jpg" alt="The Joy Factory Position Icon"></td>\n                    </tr>\n                    <tr>\n                      <td class="footer-image-content">Protect</td>\n                      <td class="footer-image-content">Secure</td>\n                      <td class="footer-image-content">Position</td>\n                    </tr>\n                  </table>\n                </td>\n                <td align="center" style="width:10.5%;">\n                  <img src="https://shop.thejoyfactory.com/content/datasheet/logo.png" alt="The Joy Factory logo." style="width:100px;">\n                </td>\n            </tr>\n          </table>\n          ');return'\n          \x3c!-- Start: Page One --\x3e\n          <div class="page" id="page-one">\n            <table class="text-left">\n              <tr>\n                <td class="product-header">\n                  <h1 class="product-name">'.concat(t.product_name,'</h1>\n                  <p class="product-short-desc">').concat(t.short_description,'</p>\n                  <hr class="hr-short hr-left">\n                  <div class="product-sku-price">\n                    <p class="product-sku">SKU: ').concat(t.product_sku,'</p>\n                    <p class="product-price">MSRP: $').concat(t.product_price,'</p>\n                  </div>\n                </td>\n              </tr>\n            </table>\n            <table class="product-desc-container">\n              <tr>\n                <td class="product-description">\n                  ').concat(t.long_description,"\n                  ").concat(t.info_description,'\n                </td>\n                <td class="product-images">\n                  ').concat(t.defaultImage?'<img class="default-image" src="'.concat(t.defaultImage.img320px,'" alt="The Joy Factory product image">'):"","\n                  <p>\n                    ").concat(t.thumbnails,"\n                    ").concat(t.productList,'\n\n\n                  </p>\n                </td>\n              </tr>\n            </table>\n            <div class="benefits">\n               <span class="benefits-header">Benefits</span>\n               <br>\n               <table>\n                  ').concat(t.datasheet_benefits,'\n               </table>\n            </div>\n            <div class="features">\n               <span class="features-header">Features</span>\n               <br>\n               <table>\n                  ').concat(t.datasheet_features,"\n               </table>\n            </div>\n            ").concat(e,'\n          </div>\n          \x3c!-- End: Page One --\x3e\n\n          \x3c!-- Start: Page Two --\x3e\n          <div class="page" id="page-two">\n            <div class="tech-specs-header">\n              <p>\n                Technical Specifications\n                <br>\n                <span class="underline"></span>\n              </p>\n            </div>\n            <table class="tech-specs-container">\n              <tr>\n                <td class="tech-specs-image-container" style="padding: 0 25px;">\n                  ').concat(t.images[t.images.length-1]?'<img class="tech-spec-image" src="'.concat(t.images[t.images.length-1].node.img320px,'" alt="The Joy Factory product image">'):"",'\n\n                  \n\n                  \n                  <p class="disclaimer" style="font-size: 7px;">The information on this data sheet is subject to change at any time at the discretion of The Joy Factory</p>\n                </td>\n                <td class="tech-specs">\n                  ').concat(t.tech_specs,'\n                </td>\n              </tr>\n            </table>\n            <div class="product-specifications">\n              <table class="product-specs-table">\n                <tr>\n                  <td class="product-info-container">\n                    <div class="product-name text-left">\n                      ').concat(t.product_name,'\n                    </div>\n                    <table class="product-info-inner-table">\n                      <tr>\n                        <div class="product-info-group">\n                          <p>SKU: ').concat(t.product_sku,"</p>\n                          <p>Product type: ").concat(t.product_type,"</p>\n                          <p>MSRP: $").concat(t.product_price,'</p>\n                        </div>\n                      </tr>\n                    </table>\n                  </td>\n                  <td class="product-specs-container">\n                    <table class="product-specs-inner-table">\n                      <th class="product-specs-title">Product Specifications</th>\n                      <tr>\n                        <td>Compatible with: ').concat(t.device_compatibility,"</td>\n                      </tr>\n                      <tr>\n                        <td>Product height: ").concat(t.unit_height," in</td>\n                      </tr>\n                      <tr>\n                        <td>Product width: ").concat(t.unit_width," in</td>\n                      </tr>\n                      <tr>\n                        <td>Product thickness: ").concat(t.unit_depth," in</td>\n                      </tr>\n                      <tr>\n                        <td>Product weight: ").concat(t.unit_weight," lb</td>\n                      </tr>\n                      <tr>\n                        <td>Package height: ").concat(t.height.value," ").concat(t.height.unit,"</td>\n                      </tr>\n                      <tr>\n                        <td>Package width: ").concat(t.width.value," ").concat(t.width.unit,"</td>\n                      </tr>\n                      <tr>\n                        <td>Package depth: ").concat(t.depth.value," ").concat(t.depth.unit,"</td>\n                      </tr>\n                      <tr>\n                        <td>Package weight: ").concat(t.weight.value," ").concat(t.weight.unit,"</td>\n                      </tr>\n                      <tr>\n                        <td>UPC: ").concat(t.upc_code,"</td>\n                      </tr>\n                      <tr>\n                        <td>Warranty: ").concat(t.warranty,"</td>\n                      </tr>\n                      <tr>\n                        <td>Certifications: ").concat(t.certifications,"</td>\n                      </tr>\n                      <tr>\n                        <td>Rating: ").concat(t.rating,"</td>\n                      </tr>\n                      <tr>\n                        <td>Package content: ").concat(t.package_content,"</td>\n                      </tr>\n                      <tr>\n                        <td>Material: ").concat(t.material,"</td>\n                      </tr>\n                    </table>\n                  </td>\n                </tr>\n              </table>\n            </div>\n            ").concat(e,"\n          </div>\n          \x3c!-- End: Page Two --\x3e\n        ")}(v)}(t)})).catch((function(t){throw console.log("Error: failed to fetch product data."),t}))},c.componentDidMount=function(){c.fetchData()},c.state={id:0,loading:!1},c}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state.loading;return Object(m.jsxs)("div",{className:"App container my-5",children:[Object(m.jsxs)("div",{className:"LoadingSpinner-wrapper",children:[Object(m.jsx)("img",{className:"download-icon",src:"https://shop.thejoyfactory.com/content/datasheet/icons/data-sheet-icon-01.png",alt:"icon"}),Object(m.jsx)("button",{className:"btn btn-primary",onClick:this.downloadPdf,children:"Download PDF"}),t?Object(m.jsx)(g,{}):""]}),Object(m.jsx)("div",{className:"py-5",id:"intro",children:Object(m.jsx)("h1",{children:"Datasheet Preview"})}),Object(m.jsx)("div",{id:"product"})]})}}]),n}(c.Component);var j=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(i.a,{children:Object(m.jsx)(s.c,{children:Object(m.jsx)(s.a,{path:"/",exact:!0,component:y})})})})},_=n(34),w=Object(c.createContext)(null),x=function(t){var e=t.children,n=Object(c.useState)(null),a=Object(_.a)(n,2),o=a[0],i=a[1];return Object(m.jsx)(w.Provider,{value:{user:o,setUser:i},children:e})};o.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(x,{children:Object(m.jsx)(j,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.468ec87f.chunk.js.map